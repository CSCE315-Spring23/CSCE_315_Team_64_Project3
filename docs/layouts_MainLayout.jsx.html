<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: layouts/MainLayout.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: layouts/MainLayout.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useEffect, useRef, useState} from 'react'
import {Link} from 'react-router-dom'
import { ToastContainer } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';

function MainLayout({children}) {

  const [weather, setWeather] = useState('');
  const [currTemp, setCurrTemp] = useState(0);
  const [highTemp, setHighTemp] = useState(0);
  const [lowTemp, setLowTemp] = useState(0);
  const [humidity, setHumidity] = useState(0);
  const [showDetails, setShowDetails] = useState(false);

  /**
   * Calls weather API once upon mounting to retrieve current weather data.
   * @function
   * @name useWeather
   * @returns {null}
   */
  useEffect(() => {
    const xhr = new XMLHttpRequest();
    xhr.open('GET', 'http://api.openweathermap.org/data/2.5/weather?lat=30.628&amp;lon=-96.334&amp;units=imperial&amp;appid=703f1d8f031ba9041b4de2e90e795853')
    xhr.send();
    xhr.onload = () => {
      {/* Set data from API call locally */}
      const data = JSON.parse(xhr.response);
      setWeather(JSON.parse(JSON.stringify(data['weather'][0]))['description']);
      setCurrTemp(JSON.parse(JSON.stringify(data['main']))['temp']);
      setHighTemp(JSON.parse(JSON.stringify(data['main']))['temp_max']);
      setLowTemp(JSON.parse(JSON.stringify(data['main']))['temp_min']);
      setHumidity(JSON.parse(JSON.stringify(data['main']))['humidity']);
      console.log(data)
    };
  }, []);

  return (
    &lt;div>
      &lt;header>
        &lt;nav className="navbar navbar-light bg-secondary">
          &lt;div className="container">
            &lt;img
              src="https://skprod.objects.frb.io/images/static/smoothie-king-logo.svg"
              className="smoothie-logo"
            />
            &lt;a href="/" className="navbar-brand" style={{marginRight: '30px'}}>
              &lt;img
                src="https://cdn-icons-png.flaticon.com/512/271/271218.png?w=740&amp;t=st=1683010785~exp=1683011385~hmac=abb8b250bf85129a9fe2483fd5503081235a550e79ccf9204d52f767d1df201e"
                className="navbar-arrow"
                alt="Back to Login"
              />
            &lt;/a>
            &lt;div className="weather-details-container">
              &lt;div
                className="weather-icon"
                onClick={() => setShowDetails(!showDetails)}
              >
                {currTemp}°F
              &lt;/div>
              {showDetails &amp;&amp; (
                &lt;div className="weather-details">
                  &lt;div className="weather-detail small">Weather: {weather}&lt;/div>
                  &lt;div className="weather-detail small">Humidity: {humidity}&lt;/div>
                  &lt;div className="weather-detail small">
                    Low/High: {lowTemp}°F / {highTemp}°F
                  &lt;/div>
                  &lt;button
                    className="close-button"
                    onClick={() => setShowDetails(false)}
                  >
                    Close
                  &lt;/button>
                &lt;/div>
              )}
            &lt;/div>
          &lt;/div>
        &lt;/nav>
      &lt;/header>
      &lt;main>
        &lt;div className="container mt-3">{children}&lt;/div>
        &lt;ToastContainer />
      &lt;/main>
    &lt;/div>
  );
  
}

export default MainLayout
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#XReport">XReport</a></li><li><a href="global.html#ZReport">ZReport</a></li><li><a href="global.html#addTranslateScript">addTranslateScript</a></li><li><a href="global.html#checkLogin">checkLogin</a></li><li><a href="global.html#clearXReport">clearXReport</a></li><li><a href="global.html#googleTranslateElementInit">googleTranslateElementInit</a></li><li><a href="global.html#updateBest">updateBest</a></li><li><a href="global.html#updateTransaction">updateTransaction</a></li><li><a href="global.html#updateWorst">updateWorst</a></li><li><a href="global.html#updateZReport">updateZReport</a></li><li><a href="global.html#useEffect">useEffect</a></li><li><a href="global.html#useWeather">useWeather</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue May 02 2023 23:39:14 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
